<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
	<div style="overflow: hidden;">
		<div style="height: 57px;min-width: 1039px;background-size: auto 100%;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAABCAYAAADKO/rAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABRSURBVFhH7dUxCoBADEXB5LK5/w1iIaLIrsgWNs50Sf/4WVUd8HOZGd1nCqMbGNMPrNMPrJv1cvz0A3OjfuwPvDPrxf7A7t7IlX7gmX74VsQGguw4S6+UnSYAAAAASUVORK5CYII=');">
			<img src="titleleft.png" style="float: left;"/>
			<img src="titleright.png" alt="" style="float: right;" />
		</div>
	</div>
<!-- Generated by Doxygen 1.8.15 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Disclaimer</span></a></li>
      <li><a href="_xE9_xA6_x96_xE9_xA1_xB5.html"><span>Home&#160;Page</span></a></li>
      <li><a href="_s_d_k_xE7_x89_x88_xE6_x9C_xAC_xE6_x9B_xB4_xE6_x96_xB0_xE8_xAE_xB0_xE5_xBD_x95.html"><span>Update&#160;History</span></a></li>
      <li><a href="usergroup0.html"><span>Programming&#160;Guide</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference&#160;and&#160;Data&#160;Structure</span></a></li>
      <li><a href="_xE7_xA4_xBA_xE4_xBE_x8B_xE7_xA8_x8B_xE5_xBA_x8F.html"><span>Sample&#160;Program</span></a></li>
      <li><a href="_error_code.html"><span>Error&#160;Code</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div class="title">Control Cameras</div> </div> </div> <div id="hikvision"> <br />
 </div><div id="hikvision">The process of controlling cameras includes enumerating, opening/closing, and configuring cameras. </div><div id="hikvision"> <ul>
<li>
<a href="#meijuxiangji" class="el">Enumerate Cameras</a> </li>
<li>
<a href="#dakaixiangji" class="el">Open Cameras</a> </li>
<li>
<a href="#guanbixiangji" class="el">Close Cameras</a> </li>
<li>
<a href="#peizhixiangji" class="el">Configure Cameras</a> </li>
</ul>
<br />
 </div><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div id="meijuxiangji" class="title">Enumerate Cameras</div> </div> </div> <div id="hikvision"> <br />
 </div><div id="hikvision">Steps:</div><div id="hikvision"> <ol>
<li>
<p class="startli">Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#ga6c88774e76403df9e0c35366be13796a" title="Update the camera list of a specified frame grabber.">MV_FG_UpdateDeviceList()</a> to enumerate cameras with a specified frame grabber type. The returned parameter <em>pbChanged</em> marks whether the camera list is updated: true-updated, false-unchanged. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#gacd122cda410e9ae7f6d38dd2f3a05f87" title="Get the number of cameras of a specified frame grabber.">MV_FG_GetNumDevices()</a> to get the number of cameras. The returned parameter <em>pnNumDevices</em> marks the number of cameras with a specified frame grabber type. If the number is N, then there are N enumerated cameras, and you can access cameras within the index range [0,N-1].</p>
<p class="endli"></p>
</li>
<li>
Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#gaf772d9419afc70679d04c89370d5bed0" title="Get the camera information.">MV_FG_GetDeviceInfo()</a> to get the information of a camera with a specified frame grabber type, and save the information in the structure <a class="el" href="struct_m_v___f_g___d_e_v_i_c_e___i_n_f_o.html">MV_FG_DEVICE_INFO</a>, which will be returned in the output. You can identify different types of cameras by the parameter <em>nDevType</em> in the structure. <br />
 The sample codes below show the process of enumerating cameras: <br />
 <div class="fragment"><div class="line"><span class="comment">/*Update the camera list*/</span></div><div class="line"><span class="keywordtype">bool</span> bChanged = <span class="keyword">false</span>;</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#ga6c88774e76403df9e0c35366be13796a">MV_FG_UpdateDeviceList</a>(hInterface, &amp;bChanged);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">/*Get the number of cameras*/</span></div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nDeviceNum = 0;</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#gacd122cda410e9ae7f6d38dd2f3a05f87">MV_FG_GetNumDevices</a>(hInterface, &amp;nDeviceNum);</div><div class="line">Check(nRet);</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; nDeviceNum; i++)</div><div class="line">{</div><div class="line">    <span class="comment">/*Get camera information by index*/</span></div><div class="line">    <a class="code" href="struct_m_v___f_g___d_e_v_i_c_e___i_n_f_o.html">MV_FG_DEVICE_INFO</a> stDeviceInfo = { 0 };</div><div class="line">    nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#gaf772d9419afc70679d04c89370d5bed0">MV_FG_GetDeviceInfo</a>(hInterface, i, &amp;stDeviceInfo);</div><div class="line">    Check(nRet);</div><div class="line"></div><div class="line">    <span class="comment">// TODO: Process camera information</span></div><div class="line">}</div></div><!-- fragment -->  </li>
</ol>
<br />
 </div><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div id="dakaixiangji" class="title">Open Cameras</div> </div> </div> <div id="hikvision"> <br />
 <ul>
<li>
Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#gaac9bf0fd2e16730ea478af2f76f11df3" title="Open the camera via index.">MV_FG_OpenDevice()</a> and input nIndex to open certain camera. A camera handle will be returned after opening it, which can be used for the follow-up operations such as configuration and event acquisition.<br />
 <div class="fragment"><div class="line"><span class="comment">/*Open the camera*/</span></div><div class="line"><a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga0ecdcce3a277e32beb329eaaa2f7e0a5">DEVHANDLE</a> hDevice = NULL;</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#gaac9bf0fd2e16730ea478af2f76f11df3">MV_FG_OpenDevice</a>(hInterface, nDeviceIndex, &amp;hDevice);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">// TODO: Operations such as configuring camera parameters</span></div></div><!-- fragment -->  </li>
<li>
Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#ga46ae88fcca93cd7937d1bd4e8b614c1d" title="Open the camera via its ID.">MV_FG_OpenDeviceByID()</a> and input camera ID to open the camera. With this API, you can skip the enumeration process, but you need to get the camera ID in advance. The camera ID consists of model No. and serial No. When entering the camera ID, fuzzy search is supported, which means that only an unique identity information is required, such as the serial No.<br />
 <div class="fragment"><div class="line"><span class="comment">/*Open the camera by camera ID*/</span></div><div class="line"><a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga0ecdcce3a277e32beb329eaaa2f7e0a5">DEVHANDLE</a> hDevice = NULL;</div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#ga46ae88fcca93cd7937d1bd4e8b614c1d">MV_FG_OpenDeviceByID</a>(hInterface, <span class="stringliteral">&quot;SerialNumber&quot;</span>, &amp;hDevice);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">// TODO: Operations such as configuring camera parameters</span></div></div><!-- fragment -->  </li>
</ul>
<br />
 </div><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div id="guanbixiangji" class="title">Close Cameras</div> </div> </div> <div id="hikvision"> <br />
 </div><div id="hikvision">Call <a class="el" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#ga6d12de1a1f2c37e22fcf8aec4af48e41" title="Close the camera.">MV_FG_CloseDevice()</a> and input the corresponding handle of the camera to close it. Note that when the camera is closed, the previous handle will become invalid and cannot be used to call other APIs.</div><div id="hikvision"> <div class="fragment"><div class="line"><span class="comment">/*Close the camera*/</span></div><div class="line">nRet = <a class="code" href="group___xE7_x9B_xB8_xE6_x9C_xBA_xE6_x8E_xA5_xE5_x8F_xA3.html#ga6d12de1a1f2c37e22fcf8aec4af48e41">MV_FG_CloseDevice</a>(hDevice);</div><div class="line">hDevice = NULL;</div><div class="line">Check(nRet);</div></div><!-- fragment --> <br />
 </div><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div id="peizhixiangji" class="title">Configure Cameras</div> </div> </div> <div id="hikvision"> <br />
 </div><div id="hikvision">Refer to <a class="el" href="_xE9_x85_x8D_xE7_xBD_xAE_xE5_x8F_x82_xE6_x95_xB0.html">Configure Parameters</a>.</div><div id="hikvision"> <br />
 </div> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<div class="footer" style="text-align: right;">
	<hr/>
	<small></small>
</div>
</body>
</html>