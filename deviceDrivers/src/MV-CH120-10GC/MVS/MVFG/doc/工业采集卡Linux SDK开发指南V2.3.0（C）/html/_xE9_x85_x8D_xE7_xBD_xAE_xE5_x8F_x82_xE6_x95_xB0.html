<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
	<div style="overflow: hidden;">
		<div style="height: 57px;min-width: 1039px;background-size: auto 100%;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABwgAAAABCAYAAADKO/rAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAABRSURBVFhH7dUxCoBADEXB5LK5/w1iIaLIrsgWNs50Sf/4WVUd8HOZGd1nCqMbGNMPrNMPrJv1cvz0A3OjfuwPvDPrxf7A7t7IlX7gmX74VsQGguw4S6+UnSYAAAAASUVORK5CYII=');">
			<img src="titleleft.png" style="float: left;"/>
			<img src="titleright.png" alt="" style="float: right;" />
		</div>
	</div>
<!-- 制作者 Doxygen 1.8.15 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>法律声明</span></a></li>
      <li><a href="_xE9_xA6_x96_xE9_xA1_xB5.html"><span>首页</span></a></li>
      <li><a href="_xE6_x9B_xB4_xE6_x96_xB0_xE8_xAE_xB0_xE5_xBD_x95.html"><span>更新记录</span></a></li>
      <li><a href="usergroup0.html"><span>编程引导</span></a></li>
      <li><a href="modules.html"><span>接口及数据结构</span></a></li>
      <li><a href="_xE6_x8E_xA7_xE5_x88_xB6_xE5_x8F_xB0_xE7_xA4_xBA_xE4_xBE_x8B_xE7_xA8_x8B_xE5_xBA_x8F.html"><span>示例程序</span></a></li>
      <li><a href="_xE9_x94_x99_xE8_xAF_xAF_xE7_xA0_x81.html"><span>错误码</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="PageDoc"><div class="contents">
<div class="textblock"><div class="header" style="margin-left:-12px;margin-top:-10px;margin-right:-8px;"> <div class="headertitle"> <div class="title">配置参数</div> </div> </div> <div id="hikvision"> <br />
 </div><div id="hikvision">通过工业采集卡SDK中的通用接口完成对采集卡/相机的属性获取和配置：</div><div id="hikvision"> <ul>
<li>
通过调用 <a class="el" href="group___x_m_l_xE6_x8E_xA5_xE5_x8F_xA3.html#ga97a17d534c3178d86de1503a82404307" title="获取XML文件">MV_FG_GetXMLFile()</a> 接口，导出采集卡/相机的XML文件。该文件中有采集卡/相机属性的详细描述、访问权限、节点类型、取值范围和访问地址等内容。<br />
 <div class="fragment"><div class="line"><span class="comment">/*获取采集卡/相机的XML文件数据*/</span></div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nXMLBufSize = 3 * 1024 * 1024;</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* pXMLBuf = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)malloc(nXMLBufSize);</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nXMLFileLen = 0;</div><div class="line">nRet = <a class="code" href="group___x_m_l_xE6_x8E_xA5_xE5_x8F_xA3.html#ga97a17d534c3178d86de1503a82404307">MV_FG_GetXMLFile</a>(hInterface<span class="comment">/*hDevice*/</span>, pXMLBuf, nXMLBufSize, &amp;nXMLFileLen);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">/*将XML数据写入文件*/</span></div><div class="line">FILE* fp = fopen(<span class="stringliteral">&quot;./Interface.xml&quot;</span>, <span class="stringliteral">&quot;wb+&quot;</span>);</div><div class="line"><span class="keywordflow">if</span> (fp)</div><div class="line">{</div><div class="line">    fwrite(pXMLBuf, nXMLFileLen, 1, fp);</div><div class="line">    fclose(fp);</div><div class="line">}</div></div><!-- fragment -->  </li>
<li>
在调用属性获取和配置接口前，可以调用 <a class="el" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga7d4b380ea7eb33b280dbad1abf1e254c" title="获得节点的访问模式">MV_FG_GetNodeAccessMode()</a> 接口，输入采集卡/相机句柄和属性名称strName，检查是否对该属性有足够的访问权限。当属性的访问权限不足时，调用属性获取和配置接口会返回错误。相关访问权限可以参考<a class="el" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#ga6fc5a0623591a266e6f3e39300913bb5">MV_FG_NODE_ACCESS_MODE</a> 。<br />
 <div class="fragment"><div class="line"><span class="comment">/*获取属性的访问权限*/</span></div><div class="line"><a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#ga6fc5a0623591a266e6f3e39300913bb5">MV_FG_NODE_ACCESS_MODE</a> enNodeAccessMode = <a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#gga6fc5a0623591a266e6f3e39300913bb5ac0396304153b9a5327dc8e44f55c296a">ACCESS_MODE_NI</a>;</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga7d4b380ea7eb33b280dbad1abf1e254c">MV_FG_GetNodeAccessMode</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;Width&quot;</span>, &amp;enNodeAccessMode);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
在调用属性获取和配置接口前，可以调用 <a class="el" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gab3c7739c2699f2c00b3e01ced0385c33" title="获得节点的类型">MV_FG_GetNodeInterfaceType()</a> 接口，输入采集卡/相机句柄和属性名称strName，获取该属性的类型。不同的类型需要调用相对应的获取和配置接口，如果调用不合适的接口会返回错误。相关属性类型可以参考<a class="el" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#ga5e6dfdc5ae31ed58b1517c56b89e31d1">MV_FG_NODE_INTERFACE_TYPE</a> 。<br />
 <div class="fragment"><div class="line"><span class="comment">/*获取属性的类型*/</span></div><div class="line"><a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#ga5e6dfdc5ae31ed58b1517c56b89e31d1">MV_FG_NODE_INTERFACE_TYPE</a> enNodeInterfaceType = <a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#gga5e6dfdc5ae31ed58b1517c56b89e31d1a1ea0b93e7bb53855a7d17b4d685e6553">INTERFACE_TYPE_Value</a>;</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gab3c7739c2699f2c00b3e01ced0385c33">MV_FG_GetNodeInterfaceType</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;Width&quot;</span>, &amp;enNodeInterfaceType);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
<p class="startli">通过调用遵循如下命名的接口获取属性值： MV_FG_GetXXXValue() ，通过调用遵循如下命名的接口配置属性值： MV_FG_SetXXXValue() ，需要输入采集卡/相机句柄和属性的名称strName，其中XXX是指属性类型，包括整型、枚举型、浮点型、布尔型、字符串型和命令型等6种类型。<br />
 下面的代码片段演示了获取和配置采集卡/相机整型属性值的过程：<br />
 </p><div class="fragment"><div class="line"><span class="comment">/*获取整型属性值，包括当前值、最大值、最小值和步长*/</span></div><div class="line"><a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html">MV_FG_INTVALUE</a> stIntValue = {0};</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gabf2ad43677c3c4cf81986cab7380ec2c">MV_FG_GetIntValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;Width&quot;</span>, &amp;stIntValue);</div><div class="line">Check(nRet);</div><div class="line">printf(<span class="stringliteral">&quot;Get Width Value, CurValue=%I64d, Max=%I64d, Min=%I64d, Inc=%I64d\n&quot;</span>, stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#a75858d445833ad0bbe60edfa610f7f7b">nCurValue</a>, stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#ac3b89b1f2afc6c4d9714783ddda44669">nMax</a>, stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#ad96b7da4286c033b0a8ae7c916d180e1">nMin</a>, stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#a0d3310c18a2a2bac3eb43a1613aed5de">nInc</a>); </div><div class="line"></div><div class="line"><span class="comment">/*配置整型属性值，将宽度设置在最大值和最小值之间*/</span></div><div class="line">int64_t nVal = stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#a75858d445833ad0bbe60edfa610f7f7b">nCurValue</a>;</div><div class="line">int64_t nMax = stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#ac3b89b1f2afc6c4d9714783ddda44669">nMax</a>;</div><div class="line">int64_t nMin = stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#ad96b7da4286c033b0a8ae7c916d180e1">nMin</a>;</div><div class="line">int64_t nInc = stIntValue.<a class="code" href="struct_m_v___f_g___i_n_t_v_a_l_u_e.html#a0d3310c18a2a2bac3eb43a1613aed5de">nInc</a>;</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gab7e539a6735462900a121ce822a20d2d">MV_FG_SetIntValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;Width&quot;</span>, 2048);</div><div class="line">Check(nRet);</div></div><!-- fragment --><p class="interli"></p>
<p class="interli">下面的代码片段演示了获取和配置采集卡/相机枚举型属性值的过程：</p>
<div class="fragment"><div class="line"><span class="comment">/*获取枚举型属性值，包括当前值、当前值的符号名称、支持的枚举类型个数、支持的枚举类型的值和支持的枚举类型的符号名称*/</span></div><div class="line"><a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html">MV_FG_ENUMVALUE</a> stEnumValue = {0};</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga4d15b89f6a65b73b5478c4d7a2ac7de1">MV_FG_GetEnumValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;PixelFormat&quot;</span>, &amp;stEnumValue);</div><div class="line">Check(nRet);</div><div class="line">printf(<span class="stringliteral">&quot;Get PixelFormat Value, CurValue=%d, CurSymbolic=%s\n&quot;</span>, stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a83b19189b7bee89a25ea1f31e96e46e5">nCurValue</a>, stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a35a52f27f97ec1640d881b14a52734b6">strCurSymbolic</a>);</div><div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a6d77e164952980b29fcc5b02327f08e4">nSupportedNum</a>; i++)</div><div class="line">{</div><div class="line">printf(<span class="stringliteral">&quot;Supported Value[i=%d], Value=%d, Symbolic=%s\n&quot;</span>, i, stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a9e9e3eade3a5b3a0fb349ad8a922c8fa">nSupportValue</a>[i], stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a1052bde2bb1569c9bbe73d56c4fadd15">strSymbolic</a>[i]);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">/*配置枚举型属性值，通过值配置*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gaf299aee603532ae4e253267d204cbcdc">MV_FG_SetEnumValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;PixelFormat&quot;</span>, stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a9e9e3eade3a5b3a0fb349ad8a922c8fa">nSupportValue</a>[0]);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">/*配置枚举型属性值，通过符号名称配置*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga5d3608599b1901c97ddd376d3eef3413">MV_FG_SetEnumValueByString</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;PixelFormat&quot;</span>, stEnumValue.<a class="code" href="struct_m_v___f_g___e_n_u_m_v_a_l_u_e.html#a1052bde2bb1569c9bbe73d56c4fadd15">strSymbolic</a>[0]);</div><div class="line">Check(nRet);</div></div><!-- fragment --><p class="interli"></p>
<p class="interli">下面的代码片段演示了获取和配置采集卡/相机浮点型属性值的过程：</p>
<div class="fragment"><div class="line"><span class="comment">/*获取浮点型属性值，包括当前值、最大值和最小值，该类型没有步长*/</span></div><div class="line"><a class="code" href="struct_m_v___f_g___f_l_o_a_t_v_a_l_u_e.html">MV_FG_FLOATVALUE</a> stFloatValue = {0};</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gaff8617b0c89f1339e35125adcaf8b55c">MV_FG_GetFloatValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;ExposureTime&quot;</span>, &amp;stFloatValue);</div><div class="line">Check(nRet);</div><div class="line">printf(<span class="stringliteral">&quot;Get ExposureTime Value, CurValue=%4.2f, Max=%4.2f, Min=%4.2f\n&quot;</span>, stFloatValue.<a class="code" href="struct_m_v___f_g___f_l_o_a_t_v_a_l_u_e.html#a11e278521f1696dee14451558c04673a">fCurValue</a>, stFloatValue.<a class="code" href="struct_m_v___f_g___f_l_o_a_t_v_a_l_u_e.html#aa60d48dd68ba894a23d9d9c458e68c8c">fMax</a>, stFloatValue.<a class="code" href="struct_m_v___f_g___f_l_o_a_t_v_a_l_u_e.html#a583e02634a486008d7f1a58d4752ce30">fMin</a>);</div><div class="line"></div><div class="line"><span class="comment">/*配置浮点型属性值，将曝光值设置在最大值和最小值之间*/</span></div><div class="line"><span class="keywordtype">float</span> fValue = 0.5 * (stFloatValue.<a class="code" href="struct_m_v___f_g___f_l_o_a_t_v_a_l_u_e.html#aa60d48dd68ba894a23d9d9c458e68c8c">fMax</a> + stFloatValue.<a class="code" href="struct_m_v___f_g___f_l_o_a_t_v_a_l_u_e.html#a583e02634a486008d7f1a58d4752ce30">fMin</a>);</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga8b2991b7dc2d83c51e116456593df121">MV_FG_SetFloatValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;ExposureTime&quot;</span>, fValue);</div><div class="line">Check(nRet);</div></div><!-- fragment --><p class="interli"></p>
<p class="interli">下面的代码片段演示了获取和配置采集卡/相机布尔型属性值的过程：</p>
<div class="fragment"><div class="line"><span class="comment">/*获取布尔型属性值*/</span></div><div class="line">bool8_t bValue = {0};</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gaa2f8b56e94a194827bfcdada6b4388c2">MV_FG_GetBoolValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;GammaEnable&quot;</span>, &amp;bValue);</div><div class="line">Check(nRet);</div><div class="line">printf(<span class="stringliteral">&quot;The GammaEnable feature is %s\n&quot;</span>, bValue ? <span class="stringliteral">&quot;On&quot;</span> : <span class="stringliteral">&quot;Off&quot;</span>);</div><div class="line"></div><div class="line"><span class="comment">/*配置布尔型属性值*/</span></div><div class="line">bValue = !bValue;</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga0cc79b3a83660ebf05a7902dd1a7d73b">MV_FG_SetBoolValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;GammaEnable&quot;</span>, bValue);</div><div class="line">Check(nRet);</div></div><!-- fragment --><p class="interli"></p>
<p class="interli">下面的代码片段演示了获取和配置采集卡/相机字符串型属性值的过程：</p>
<div class="fragment"><div class="line"><span class="comment">/*获取字符串型属性值*/</span></div><div class="line"><a class="code" href="struct_m_v___f_g___s_t_r_i_n_g_v_a_l_u_e.html">MV_FG_STRINGVALUE</a> stStringValue = {0};</div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gaddd55f42757d9ee4a6734a05c0786c06">MV_FG_GetStringValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;DeviceUserID&quot;</span>, &amp;stStringValue);</div><div class="line">Check(nRet);</div><div class="line">printf(<span class="stringliteral">&quot;Get DeviceUserID Value, CurValue=%s\n&quot;</span>, stStringValue.<a class="code" href="struct_m_v___f_g___s_t_r_i_n_g_v_a_l_u_e.html#ab1b39cdad6eee44cd541a6d47a2b089c">strCurValue</a>);</div><div class="line"></div><div class="line"><span class="comment">/*配置字符串型属性值*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga8b2991b7dc2d83c51e116456593df121">MV_FG_SetFloatValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;DeviceUserID&quot;</span>, <span class="stringliteral">&quot;Interface Name&quot;</span>);</div><div class="line">Check(nRet);</div></div><!-- fragment --><p class="interli"></p>
<p class="interli">下面的代码片段演示了配置采集卡/相机命令型属性值的过程：</p>
<div class="fragment"><div class="line"><span class="comment">/*配置命令型属性值*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gafd5f7bdcc4ae186feb1bcfb75c2dade6">MV_FG_SetCommandValue</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;UserSetLoad&quot;</span>);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
通过调用 <a class="el" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gaab03fe32ea14ec3a158dd39537b521b0" title="保存相机属性">MV_FG_FeatureSave()</a> 和 <a class="el" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga0b91c5a0bd757cc1f091a64a73848908" title="导入相机属性">MV_FG_FeatureLoad()</a> 接口，输入以.hcf为扩展名的属性文件名，对采集卡/相机的特定属性进行导出和导入。应当注意的是，这些可以被导出和导入的属性需要具备Streamable特性或者是具备该特性的关联属性，该特性被定义在采集卡/相机的XML文件中。<br />
 <div class="fragment"><div class="line"><span class="comment">/*导出采集卡/相机属性*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#gaab03fe32ea14ec3a158dd39537b521b0">MV_FG_FeatureSave</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;./Interface.hcf&quot;</span>);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">/*导入采集卡/相机属性*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga0b91c5a0bd757cc1f091a64a73848908">MV_FG_FeatureLoad</a>(hInterface<span class="comment">/*hDevice*/</span>, <span class="stringliteral">&quot;./Interface.hcf&quot;</span>);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
通过调用 <a class="el" href="group___xE8_xAF_xBB_xE5_x86_x99_xE7_x9B_xB8_xE6_x9C_xBA_xE6_x96_x87_xE4_xBB_xB6_xE6_x8E_xA5_xE5_x8F_xA3.html#ga8e4933563981c769c88d8f0add3aef31" title="从相机读取文件">MV_FG_FileAccessRead()</a> 和 <a class="el" href="group___xE8_xAF_xBB_xE5_x86_x99_xE7_x9B_xB8_xE6_x9C_xBA_xE6_x96_x87_xE4_xBB_xB6_xE6_x8E_xA5_xE5_x8F_xA3.html#ga8830c24bf432871dada44c347548f3d2" title="将文件写入相机">MV_FG_FileAccessWrite()</a> 接口，输入用户文件名和设备文件名，对采集卡/相机内的文件进行读取和写入。应当注意的是，设备文件名来自采集卡/相机上的FileSelector属性节点，可选择该节点下的字符串值作为设备文件名进行输入。<br />
 <div class="fragment"><div class="line"><a class="code" href="struct_m_v___f_g___f_i_l_e___a_c_c_e_s_s.html">MV_FG_FILE_ACCESS</a> stFileAccess = {0};</div><div class="line">stFileAccess.<a class="code" href="struct_m_v___f_g___f_i_l_e___a_c_c_e_s_s.html#a98c927bd20826c7b054cbac8295ee46b">pUserFileName</a> = <span class="stringliteral">&quot;UserSet1.bin&quot;</span>;</div><div class="line">stFileAccess.<a class="code" href="struct_m_v___f_g___f_i_l_e___a_c_c_e_s_s.html#abddd31e5c91892bbbd8e406ed6ef5e1b">pDevFileName</a> = <span class="stringliteral">&quot;UserSet1&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">/*读取采集卡/相机文件*/</span></div><div class="line">nRet = <a class="code" href="group___xE8_xAF_xBB_xE5_x86_x99_xE7_x9B_xB8_xE6_x9C_xBA_xE6_x96_x87_xE4_xBB_xB6_xE6_x8E_xA5_xE5_x8F_xA3.html#ga8e4933563981c769c88d8f0add3aef31">MV_FG_FileAccessRead</a>(hInterface<span class="comment">/*hDevice*/</span>, &amp;stFileAccess);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">/*写入采集卡/相机文件*/</span></div><div class="line">nRet = <a class="code" href="group___xE8_xAF_xBB_xE5_x86_x99_xE7_x9B_xB8_xE6_x9C_xBA_xE6_x96_x87_xE4_xBB_xB6_xE6_x8E_xA5_xE5_x8F_xA3.html#ga8830c24bf432871dada44c347548f3d2">MV_FG_FileAccessWrite</a>(hInterface<span class="comment">/*hDevice*/</span>, &amp;stFileAccess);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
通过调用 <a class="el" href="group___xE8_xAF_xBB_xE5_x86_x99_xE5_xAF_x84_xE5_xAD_x98_xE5_x99_xA8_xE6_x8E_xA5_xE5_x8F_xA3.html#gaa8a5bcf6eb62ed372ecadbdb7537b92a" title="读取采集卡/相机寄存器">MV_FG_ReadPort()</a> 和 <a class="el" href="group___xE8_xAF_xBB_xE5_x86_x99_xE5_xAF_x84_xE5_xAD_x98_xE5_x99_xA8_xE6_x8E_xA5_xE5_x8F_xA3.html#gad84417e91c8f1b2cb3d4f3196b0b3677" title="写入采集卡/相机寄存器">MV_FG_WritePort()</a> 接口，输入寄存器值和寄存器地址，对采集卡/相机的寄存器进行读取和写入。应当注意的是，寄存器地址可以从采集卡/相机的XML文件中获取，形如XXX_RegAddr的节点值。<br />
 <div class="fragment"><div class="line">int64_t nOutLength = 0;</div><div class="line">uint32_t nWidth = 0;</div><div class="line"></div><div class="line"><span class="comment">/*读取采集卡/相机寄存器值*/</span></div><div class="line">nRet = <a class="code" href="group___xE8_xAF_xBB_xE5_x86_x99_xE5_xAF_x84_xE5_xAD_x98_xE5_x99_xA8_xE6_x8E_xA5_xE5_x8F_xA3.html#gaa8a5bcf6eb62ed372ecadbdb7537b92a">MV_FG_ReadPort</a>(hInterface<span class="comment">/*hDevice*/</span>, &amp;nWidth, 0x30360, <span class="keyword">sizeof</span>(uint32_t), &amp;nOutLength);</div><div class="line">Check(nRet);</div><div class="line"></div><div class="line"><span class="comment">/*将值写入采集卡/相机寄存器*/</span></div><div class="line">nRet = <a class="code" href="group___xE8_xAF_xBB_xE5_x86_x99_xE5_xAF_x84_xE5_xAD_x98_xE5_x99_xA8_xE6_x8E_xA5_xE5_x8F_xA3.html#gad84417e91c8f1b2cb3d4f3196b0b3677">MV_FG_WritePort</a>(hInterface<span class="comment">/*hDevice*/</span>, &amp;nWidth, 0x30360, <span class="keyword">sizeof</span>(uint32_t), &amp;nOutLength);</div><div class="line">Check(nRet);</div></div><!-- fragment -->  </li>
<li>
通过调用 <a class="el" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga888eaa9bbb2a4ede55eafa091d9c7f88" title="配置自定义的整型值">MV_FG_SetConfigIntValue()</a> 接口，输入配置指令和想要配置的值，对SDK自定义的整型参数进行配置，具体配置指令可以参考<a class="el" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#ga1976236b8de5bbd1b2b157b680b8f775">MV_FG_CONFIG_CMD</a> 。当前只支持配置CameraLink相机的波特率，后续会根据实际需求进行扩展。<br />
 <div class="fragment"><div class="line"><span class="comment">/*配置CameraLink相机的波特率为115200*/</span></div><div class="line">nRet = <a class="code" href="group___xE5_xB1_x9E_xE6_x80_xA7_xE9_x85_x8D_xE7_xBD_xAE_xE6_x8E_xA5_xE5_x8F_xA3.html#ga888eaa9bbb2a4ede55eafa091d9c7f88">MV_FG_SetConfigIntValue</a>(hDevice, <a class="code" href="group___xE6_x9E_x9A_xE4_xB8_xBE_xE7_xB1_xBB_xE5_x9E_x8B_xE5_xAE_x9A_xE4_xB9_x89.html#gga1976236b8de5bbd1b2b157b680b8f775a32da1f520f5c91a0feea96c03882639f">CONFIG_CMD_INT64_BAUDRATE</a>, <a class="code" href="group___xE5_xAE_x8F_xE5_xAE_x9A_xE4_xB9_x89.html#ga8d9c936f41f8a78c0b343c37bc53db78">MV_FG_BAUDRATE_115200</a>);</div><div class="line">Check(nRet);</div></div><!-- fragment -->    </li>
</ul>
</div></div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<div class="footer" style="text-align: right;">
	<hr/>
	<small></small>
</div>
</body>
</html>